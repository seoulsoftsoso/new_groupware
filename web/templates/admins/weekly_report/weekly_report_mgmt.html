{% load static %}
<!DOCTYPE html>
<meta charset="UTF-8">
{% include 'admins/admin_header.html' %}
<link rel="stylesheet" href="{% static 'sneat/assets/vendor/libs/bs-stepper/bs-stepper.css' %}"/>
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.0/css/dataTables.dataTables.css"/>
<link rel="stylesheet" href="https://cdn.datatables.net/select/2.0.0/css/select.dataTables.css"/>
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.0.0/css/buttons.dataTables.css"/>

<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/select/2.0.0/js/dataTables.select.js"></script>
<script src="https://cdn.datatables.net/select/2.0.0/js/select.dataTables.js"></script>

<script src="https://cdn.datatables.net/buttons/3.0.0/js/dataTables.buttons.js"></script>
<script src="https://cdn.datatables.net/buttons/3.0.0/js/buttons.dataTables.js"></script>
</head>
<body>
<style>
#weekly_table, #weekly_table th, #weekly_table td {
    color: #3b3b3b; /* 원하는 색상 코드로 변경 */
}
</style>
<div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">

        {% include 'admins/index_sidemenu.html' %}

        <div class="layout-page" style="">
            {% include 'admins/index_header.html' %}

            <!-- Content wrapper -->
            <div class="content-wrapper">
                <!-- Content -->

                <div class="container-fluid flex-grow-1 container-p-y">

                    <div class="row justify-content-end mt-4">
                        <div class="col-md-2 mb-4">
                            <select id="year_select"
                                    class="select2 form-select form-select-lg select2-hidden-accessible"
                                    data-allow-clear="true" data-select2-id="select2Basic" tabindex="-1"
                                    aria-hidden="true">
                                <option data-select2-id="2" value=""></option>
                            </select>
                        </div>
                        <div class="col-md-2 mb-4">
                            <select id="month_select"
                                    class="select2 form-select form-select-lg select2-hidden-accessible"
                                    data-allow-clear="true" data-select2-id="select2Basic" tabindex="-1"
                                    aria-hidden="true">
                                <option data-select2-id="2" value=""></option>
                            </select>
                        </div>
                        <div class="col-md-3 mb-4">
                            <select id="employee_select"
                                    class="select2 form-select form-select-lg select2-hidden-accessible"
                                    data-allow-clear="true" data-select2-id="select2Basic" tabindex="-1"
                                    aria-hidden="true">
                                <option data-select2-id="2">------직원을 선택해주세요------</option>
                                {% for obj in employee_list %}
                                    <option data-select2-id="2" value="{{ obj.id }}">
                                        {{ obj.department_position__name }} {{ obj.username }} {{ obj.job_position__name }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-1 mb-4">
                            <button type="button" class="btn btn-outline-dark" id="employee_search_btn">검색</button>
                        </div>
                    </div>


                    <!-- Default -->
                    <div class="row mt-4">
                        <!-- Vertical Wizard -->
                        <div class="col-12 mb-4">

                            <div class="bs-stepper wizard-vertical vertical mt-2">
                                <div class="col-md-2 bs-stepper-header">
                                    <div class="mb-5 select2-primary">
                                        <div class="d-flex justify-content-end mt-2">
                                            <button type="button" class="btn btn-outline-dark" id="create_new_step">새로만들기</button>
                                        </div>
                                    </div>


                                    <div id="steps_container">
                                        <div class="step" data-target="#account-details-1">
                                            <button type="button" class="step-trigger">
                                                <span class="bs-stepper-circle">3</span>
                                                <span class="bs-stepper-label mt-1">
                                                <span class="bs-stepper-title">3월 4주차</span>
                                                <span class="bs-stepper-subtitle">2024-03-18 ~ 2024-03-22</span>
                                            </span>
                                            </button>
                                        </div>
                                        <div class="line"></div>
                                        <div class="step" data-target="#personal-info-1">
                                            <button type="button" class="step-trigger">
                                                <span class="bs-stepper-circle">2</span>
                                                <span class="bs-stepper-label mt-1">
                                                <span class="bs-stepper-title">3월 3주차</span>
                                                <span class="bs-stepper-subtitle">2024-03-11 ~ 2024-03-15</span>
                                            </span>
                                            </button>
                                        </div>
                                        <div class="line"></div>
                                        <div class="step" data-target="#social-links-1">
                                            <button type="button" class="step-trigger">
                                                <span class="bs-stepper-circle">1</span>
                                                <span class="bs-stepper-label mt-1">
                                                <span class="bs-stepper-title">3월 2주차</span>
                                                <span class="bs-stepper-subtitle">2024-03-04 ~ 2024-03-08</span>
                                            </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>


                                <div class="bs-stepper-content">

                                        <!-- Account Details -->
                                        <div id="account-details-1" class="content">
                                            <div class="card-datatable table-responsive mt-5" style="overflow-x: auto;">
                                                <table id="weekly_table" class="dt-multilingual table border-top">
                                                    <thead>
                                                    <tr style="color: #3b3b3b">
                                                        <th style="font-weight: bold; text-align: center; width: 6%">번호</th>
                                                        <th style="font-weight: bold; text-align: center; width: 45%">업무내용</th>
                                                        <th style="font-weight: bold; width: 11%;">소요기간 및 시간</th>
                                                        <th style="font-weight: bold; text-align: center; width: 8%;">달성도</th>
                                                        <th style="font-weight: bold; text-align: center;">이슈</th>
                                                        <th style="font-weight: bold; text-align: center;">비고</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <!-- Personal Info -->
                                        <div id="personal-info-1" class="content">
                                            <div class="content-header mb-3">
                                                <h6 class="mb-0">Personal Info</h6>
                                                <small>Enter Your Personal Info.</small>
                                            </div>
                                            <div class="row g-3">
                                                <div class="col-sm-6">
                                                    <label class="form-label" for="first-name-vertical">First
                                                        Name</label>
                                                    <input type="text" id="first-name-vertical"
                                                           class="form-control"
                                                           placeholder="John"/>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label" for="last-name-vertical">Last
                                                        Name</label>
                                                    <input type="text" id="last-name-vertical"
                                                           class="form-control"
                                                           placeholder="Doe"/>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="country-vertical">Country</label>
                                                    <select class="select2" id="country-vertical">
                                                        <option label=" "></option>
                                                        <option>UK</option>
                                                        <option>USA</option>
                                                        <option>Spain</option>
                                                        <option>France</option>
                                                        <option>Italy</option>
                                                        <option>Australia</option>
                                                    </select>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="language-vertical">Language</label>
                                                    <select
                                                            class="selectpicker w-auto"
                                                            id="language-vertical"
                                                            data-style="btn-transparent"
                                                            data-icon-base="bx"
                                                            data-tick-icon="bx-check text-white"
                                                            multiple>
                                                        <option>English</option>
                                                        <option>French</option>
                                                        <option>Spanish</option>
                                                    </select>
                                                </div>
                                                <div class="col-12 d-flex justify-content-between">
                                                    <button class="btn btn-primary btn-prev">
                                                        <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                                                        <span class="align-middle d-sm-inline-block d-none">Previous</span>
                                                    </button>
                                                    <button class="btn btn-primary btn-next">
                                                        <span class="align-middle d-sm-inline-block d-none me-sm-1">Next</span>
                                                        <i class="bx bx-chevron-right bx-sm me-sm-n2"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Social Links -->
                                        <div id="social-links-1" class="content">
                                            <div class="content-header mb-3">
                                                <h6 class="mb-0">Social Links</h6>
                                                <small>Enter Your Social Links.</small>
                                            </div>
                                            <div class="row g-3">
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="twitter-vertical">Twitter</label>
                                                    <input
                                                            type="text"
                                                            id="twitter-vertical"
                                                            class="form-control"
                                                            placeholder="https://twitter.com/abc"/>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="facebook-vertical">Facebook</label>
                                                    <input
                                                            type="text"
                                                            id="facebook-vertical"
                                                            class="form-control"
                                                            placeholder="https://facebook.com/abc"/>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="google-vertical">Google+</label>
                                                    <input
                                                            type="text"
                                                            id="google-vertical"
                                                            class="form-control"
                                                            placeholder="https://plus.google.com/abc"/>
                                                </div>
                                                <div class="col-sm-6">
                                                    <label class="form-label"
                                                           for="linkedin-vertical">LinkedIn</label>
                                                    <input
                                                            type="text"
                                                            id="linkedin-vertical"
                                                            class="form-control"
                                                            placeholder="https://linkedin.com/abc"/>
                                                </div>
                                                <div class="col-12 d-flex justify-content-between">
                                                    <button class="btn btn-primary btn-prev">
                                                        <i class="bx bx-chevron-left bx-sm ms-sm-n2"></i>
                                                        <span class="align-middle d-sm-inline-block d-none">Previous</span>
                                                    </button>
                                                    <button class="btn btn-success btn-submit">Submit</button>
                                                </div>
                                            </div>
                                        </div>

                                </div>


                            </div>
                        </div>
                        <!-- /Vertical Wizard -->
                    </div>


                </div>
                <!-- / Content -->

                <!-- Footer -->
                {% include 'admins/index_footer.html' %}
                <!-- / Footer -->

                <div class="content-backdrop fade"></div>
            </div>
            <!-- Content wrapper -->


        </div>
    </div>
</div>

</body>
{% include 'admins/admin_footer.html' %}
<script src="{% static 'sneat/assets/vendor/libs/bs-stepper/bs-stepper.js' %}"></script>
<script src="{% static 'sneat/assets/js/form-wizard-numbered.js' %}"></script>
<script src="{% static 'sneat/assets/js/form-wizard-validation.js' %}"></script>
<script>
    let main_table = null;

    $(document).ready(function() {
        var yearSelect = $('#year_select');
        var currentYear = new Date().getFullYear();

        for (var year = currentYear - 10; year <= currentYear + 10; year++) {
            var isSelected = (year === currentYear) ? 'selected' : '';
            yearSelect.append(`<option value="${year}" ${isSelected}>${year}</option>`);
        }

        yearSelect.select2();

        main_table = new DataTable('#weekly_table', {
            responsive: true,
            destroy: true,
        });

    });
</script>
</html>